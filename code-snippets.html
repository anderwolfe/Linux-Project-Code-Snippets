<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Scripts</title>
  <style>
    :root{ --bg:#0b0f14; --panel:#121822; --ink:#e6eef8; --line:#1e2a38; }
    *{ box-sizing:border-box }
    body{ margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); background:var(--bg); padding:20px }
    h1{ text-align:center; margin-bottom:20px }
    .grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(300px, 1fr)); gap:16px }
    .snippet{ background:var(--panel); border:1px solid var(--line); border-radius:12px; padding:12px; display:flex; flex-direction:column }
    h2{ margin:0 0 10px; font-size:14px; font-weight:600; color:var(--ink) }
    pre{ flex:1; margin:0 0 12px; padding:10px; border:1px solid var(--line); border-radius:8px; background:#0b131d; overflow:auto; font:12px/1.45 ui-monospace,Menlo,Monaco,Consolas,monospace }
    button{ align-self:flex-end; font:inherit; color:var(--ink); background:#0f1926; border:1px solid var(--line); border-radius:8px; padding:6px 12px; cursor:pointer }
    button:hover{ border-color:#2a4b67 }
  </style>
</head>
<body>
  <h1>Duncan's Linux 1 project bash scripts</h1>
  <div class="grid">
    <div class="snippet">
      <h2>build.sh</h2>
      <pre id="code1">
rm -rf /repo
echo "------"
echo "Removed any pre-existing repo folder"

mkdir -p /repo/software{A..C}
echo "------"
echo "Making software A through C folders inside repo folder"

touch /repo/softwareA/{1..3}.txt
echo "------"
echo "Making 1.txt 2.txt 3.txt in SoftwareA"

touch /repo/softwareB/{1..2}.txt
echo "------"
echo "Making 1.txt 2.txt in SoftwareB"

touch /repo/softwareC/1.txt
echo "------"
echo "Making 1.txt in SoftwareC"
echo "------"</pre>
      <button onclick="copyCode('code1')">Copy</button>
    </div>
    <div class="snippet">
      <h2>backup.sh</h2>
      <pre id="code2">
time=`date '+%Y%m%d-%H%M%S'`
echo "------"
echo "Storing the current date and time as timestamp"

mkdir -p /backup/$time
echo "------"
echo "Making new directory that is named our current timestamp"

tar -cjf /backup/$time/repo.tar.bz2 /repo
echo "------"
echo "Storing our current /repo folder in a bzip tarball, titling the tarball repo, and putting it in our current timestamp folder"
echo "------"</pre>
      <button onclick="copyCode('code2')">Copy</button>
    </div>
    <div class="snippet">
      <h2>compare.sh</h2>
      <pre id="code3">mkdir -p /tmp/compare
echo "------"
echo "Made directory in the tmp folder and name it compare"
echo "------"

PS3="Select the backup file you'd like to compare: "
select backupfile in /backup/*; do [ -n "$backupfile" ] && break; done

tar -xf "$backupfile/repo.tar.bz2" -C /tmp/compare
echo "------"
echo "Temporarily unzipping backup file so we can compare:"
echo ""

diff -sr /repo /tmp/compare/repo
echo "------"
echo "We have compared everything in repo against our chosen backup file"

rm -rf /tmp/compare
echo "------"
echo "Cleaning up after ourselves"
echo "------"</pre>
      <button onclick="copyCode('code3')">Copy</button>
    </div>
    <div class="snippet">
      <h2>restore.sh</h2>
      <pre id="code4">PS3="Select the backup file you would like to restore from: "
select backupfile in /backup/*; do [ -n "$backupfile" ] && break; done

rm -rf /repo
echo "------"
echo "Removing old /repo folder and contents"

tar -xf "$backupfile/repo.tar.bz2" -C /
echo "------"
echo "Creating new /repo folder and contents from selected tar backup"
</pre>
      <button onclick="copyCode('code4')">Copy</button>
    </div>
  </div>

  <script>
    function copyCode(id){
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(()=> alert('Copied!')).catch(()=> alert('Copy failed'));
    }
  </script>
</body>
</html>